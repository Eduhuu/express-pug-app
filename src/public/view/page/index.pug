extends ../layout/mainLayout.pug

block content 
    div(class="min-h-full relative flex flex-col items-center justify-between")
        a(class="absolute top-0 left-0 flex items-center gap-2" href="/publication")
            p Crear publicacion
            i(class="fa fa-plus-circle" aria-hidden="true")
        div(class="flex flex-col gap-6")
            each publication in publications
                div(class="flex flex-col gap-4 px-8 py-4 rounded")
                    - const userRef = `profile/${publication.autor_id}`
                    a(class="flex justify-start gap-2" href=userRef)
                        img(src=publication.user.img class="w-7 h-7 rounded-full")
                        div(class="flex gap-1")
                            p=publication.user.name
                            p=publication.user.lastname
                    a(href=`publication/${publication.id}` class="max-w-[25vw]")
                        img(src=publication.image class="w-full rounded")
                    div(class="flex flex-col gap-0")
                        p(class="max-w-[25vw]")=publication.title 
                        small(class="max-w-[25vw] font-")=publication.content
                hr
        div(class="self-end flex gap-2")
            if prev
                div(class="bg-gray-200 rounded")
                    a(href=`/?page=${prev}` class="px-3 py-2 rounded bg-gray-300")="Anterior"
            each page in pages
                div(class="bg-gray-200 rounded")
                    a(href=`/?page=${page}` class="px-3 py-2 rounded bg-gray-300")=page
            if next
                div(class="bg-gray-200 rounded")
                    a(href=`/?page=${next}` class="px-3 py-2 rounded bg-gray-300")="Siguiente"
